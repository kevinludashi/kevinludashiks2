<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>美缝计算器2.0【块数】</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            max-width: 1200px;
            margin: auto;
        }
        .calculators {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .calculator {
            flex: 1;
            min-width: 160px;
            margin: 10px;
            border: 1px solid #ccc;
            padding: 15px;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .calculator label {
            display: block;
            margin-top: 10px;
        }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            box-sizing: border-box;
        }
        .result {
            font-size: 20px;
            font-weight: bold;
        }
        .total-meters {
            margin-top: 20px;
            font-size: 24px;
            font-weight: bold;
            color: #007BFF;
        }
        .total-price {
            margin-top: 20px;
            font-size: 24px;
            font-weight: bold;
            text-align: left;
        }
        .total-price-result {
            margin-top: 10px;
            font-size: 24px;
            color: red;
            font-weight: bold;
        }
        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 16px;
            color: #777;
        }
        button {
            padding: 18px 35px;
            font-size: 20px;
            background-color: #ff0000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: auto;
            margin-top: 10px;
        }
        button:hover {
            background-color: #ff4c4c;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>美缝计算器【块数】</h2>

    <div class="calculators">
        <!-- 瓷砖规格 1 -->
        <div class="calculator" id="calculator1">
            <h3>瓷砖规格 1</h3>
            <label for="block1">请输入块数:</label>
            <input type="number" id="block1" placeholder="块数" step="1">
            <label for="length1">请输入长度 (m):</label>
            <input type="number" id="length1" placeholder="长度 (m)" step="0.01">
            <label for="width1">请输入宽度 (m):</label>
            <input type="number" id="width1" placeholder="宽度 (m)" step="0.01">
            <div class="result" id="result1"></div>
        </div>

        <!-- 瓷砖规格 2 -->
        <div class="calculator" id="calculator2">
            <h3>瓷砖规格 2</h3>
            <label for="block2">请输入块数:</label>
            <input type="number" id="block2" placeholder="块数" step="1">
            <label for="length2">请输入长度 (m):</label>
            <input type="number" id="length2" placeholder="长度 (m)" step="0.01">
            <label for="width2">请输入宽度 (m):</label>
            <input type="number" id="width2" placeholder="宽度 (m)" step="0.01">
            <div class="result" id="result2"></div>
        </div>

        <!-- 瓷砖规格 3 -->
        <div class="calculator" id="calculator3">
            <h3>瓷砖规格 3</h3>
            <label for="block3">请输入块数:</label>
            <input type="number" id="block3" placeholder="块数" step="1">
            <label for="length3">请输入长度 (m):</label>
            <input type="number" id="length3" placeholder="长度 (m)" step="0.01">
            <label for="width3">请输入宽度 (m):</label>
            <input type="number" id="width3" placeholder="宽度 (m)" step="0.01">
            <div class="result" id="result3"></div>
        </div>

        <!-- 瓷砖规格 4 -->
        <div class="calculator" id="calculator4">
            <h3>瓷砖规格 4</h3>
            <label for="block4">请输入块数:</label>
            <input type="number" id="block4" placeholder="块数" step="1">
            <label for="length4">请输入长度 (m):</label>
            <input type="number" id="length4" placeholder="长度 (m)" step="0.01">
            <label for="width4">请输入宽度 (m):</label>
            <input type="number" id="width4" placeholder="宽度 (m)" step="0.01">
            <div class="result" id="result4"></div>
        </div>

        <!-- 瓷砖规格 5 -->
        <div class="calculator" id="calculator5">
            <h3>瓷砖规格 5</h3>
            <label for="block5">请输入块数:</label>
            <input type="number" id="block5" placeholder="块数" step="1">
            <label for="length5">请输入长度 (m):</label>
            <input type="number" id="length5" placeholder="长度 (m)" step="0.01">
            <label for="width5">请输入宽度 (m):</label>
            <input type="number" id="width5" placeholder="宽度 (m)" step="0.01">
            <div class="result" id="result5"></div>
        </div>

        <!-- 瓷砖规格 6 -->
        <div class="calculator" id="calculator6">
            <h3>瓷砖规格 6</h3>
            <label for="block6">请输入块数:</label>
            <input type="number" id="block6" placeholder="块数" step="1">
            <label for="length6">请输入长度 (m):</label>
            <input type="number" id="length6" placeholder="长度 (m)" step="0.01">
            <label for="width6">请输入宽度 (m):</label>
            <input type="number" id="width6" placeholder="宽度 (m)" step="0.01">
            <div class="result" id="result6"></div>
        </div>
    </div>

    <div class="total-meters">
        <p>总米数: <span id="totalMeters">0</span> 米</p>
    </div>

    <div class="total-price">
        <label for="price">请输入单价 (元):</label>
        <input type="number" id="price" placeholder="单价" step="0.01">
        <button onclick="calculateTotalPrice()">计算总价格</button>
        <div class="total-price-result" id="totalPriceResult"></div>
    </div>

    <div class="footer">
        <p>制作人: Kevin鲁大师 / 仅供学习交流 勿用于商业 / 未经许可 盗用必究</p>
    </div>
</div>

<script>
    var results = [0, 0, 0, 0, 0, 0];

    function calculate(calculatorIndex) {
        var block = parseInt(document.getElementById("block" + calculatorIndex).value);
        var length = parseFloat(document.getElementById("length" + calculatorIndex).value);
        var width = parseFloat(document.getElementById("width" + calculatorIndex).value);
        
        if (isNaN(block) || isNaN(length) || isNaN(width) || block <= 0 || length <= 0 || width <= 0) {
            document.getElementById("result" + calculatorIndex).textContent = "自动计算中ing···";
            return;
        }

        var result = block * (length + width);  // 根据新的公式计算
        results[calculatorIndex - 1] = result; // 保存结果
        
        document.getElementById("result" + calculatorIndex).textContent = "计算结果: " + result.toFixed(2) + " 米";
        
        updateTotalMeters();
    }

    document.querySelectorAll('input').forEach(function(input) {
        input.addEventListener('input', function() {
            var calculatorIndex = parseInt(input.id.replace(/\D/g, ''));
            if (!isNaN(calculatorIndex)) {
                calculate(calculatorIndex);
            }
        });
    });

    function updateTotalMeters() {
        var totalMeters = results.reduce((sum, current) => sum + current, 0);
        document.getElementById("totalMeters").textContent = totalMeters.toFixed(2);
    }

    function calculateTotalPrice() {
        var price = parseFloat(document.getElementById("price").value);
        
        if (isNaN(price) || price <= 0) {
            alert("请输入有效的价格!");
            return;
        }
        
        var total = results.reduce((sum, current) => sum + current, 0) * price;
        document.getElementById("totalPriceResult").textContent = "总价格: " + total.toFixed(2) + " 元";
    }
</script>

</body>
</html>
